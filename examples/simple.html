<!DOCTYPE html>

<head>
  <!-- Browser doesn't allow local files (CORS policy). Use a webserver! -->
  <link rel=import href=../src/auto-state.html>
  <title>Simple Example</title>
</head>

<body>
  <auto-state id=auto>
    <input placeholder=Name?>
    <br>
    <div id=name></div>
  </auto-state>
</body>

<script>
  const auto = document.querySelector('#auto')
  auto.init({}, 
    function setName(name) {
      this.name = name
    },
    { name: 'original' }
  )
  document.addEventListener('DOMContentLoaded', ev => {
    const nameDiv = document.querySelector('#name')

    console.log('state.name', 
      nameDiv.auto ? nameDiv.auto.state ? nameDiv.auto.state.name
        : 'undefined == auto.state' : 'undefined == auto'
    )
  })
</script>